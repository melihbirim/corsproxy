services:
  - type: web
    name: corsproxy
    runtime: go
    plan: free
    branch: main
    region: virginia
    buildCommand: go build -tags netgo -ldflags '-s -w' -o app main.go
    startCommand: ./app
    healthCheckPath: /health
    envVars:
      - key: PORT
        value: 8080
      - key: MAX_REQUEST_SIZE
        value: 10485760
      - key: REQUEST_TIMEOUT
        value: 30s
      - key: MAX_REDIRECTS
        value: 10
      - key: ALLOWED_ORIGINS
        value: "*"
      - key: RATE_LIMIT_PER_MINUTE
        value: 100
      - key: VERBOSE_LOGGING
        value: true
      - key: BLOCKED_HOSTS
        value: localhost,127.0.0.1,192.168.0.0,10.0.0.0
